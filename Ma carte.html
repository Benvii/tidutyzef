<!DOCTYPE html>
<html>
<head>
  <title>Ma carte</title>
    <meta charset="UTF-8"/>
    <script src="./wsLib.js"></script>
    <script src="./main.js"></script>

  <!-- Leaflet -->
    <link rel="stylesheet" href="./leaflet.css" />
    <script src="./leaflet.js"></script>

<style type="text/css">
    .leaflet-marker-icon.tidu{
      border: solid 2px green;
      border-radius: 50px;
    }
    .leaflet-marker-icon.tidef{
      border: solid 2px red;
      border-radius: 50px;
    }
</style>
    
</head>
<body>

<div id="map" class="map" style="height: 500px;"></div>

<script type="text/javascript">
var tidu = L.icon({
    iconUrl: 'http://wiki.mdl29.net/mdl29.png',
    iconSize: [50,50],
    iconAnchor:[25,0],
    className: 'tidu'
});

var tidef = L.icon({
    iconUrl: 'http://www.sirtin.fr/sirtin/wp-content/uploads/100219.jpg',
    iconSize: [50,50],
    iconAnchor:[25,0],
    className: 'tidef'
});

// create a map in the "map" div, set the view to a given place and zoom
var map = L.map('map').setView([48.40623, -4.46754], 18);

// add an OpenStreetMap tile layer
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);

// add a marker in the given location, attach some popup content to it and open the popup
var markerTidu = L.marker([48.40635, -4.46750]).setIcon(tidu).addTo(map).bindPopup('MDL');
var markerTidef = L.marker([48.40640, -4.46705]).setIcon(tidef).addTo(map).bindPopup('Les petits d√©brouillards');


ws.openSocket("ws://localhost:9876/");
</script>


	<label>URL du ws : <input type="text" id="ws_url" value="ws://192.168.0.15:9876/"></label>
<button onclick="openConnection()">Open connexion</button><br>
<label>Pseudo : <input type="text" id="pseudo"></label>
<label>Equipe : <input type="text" id="team"></label>
<button onclick="login()">Login</button>


<br><br>
<span id="status"></span>

<br><br>
<span id="msg"></span>

</body>
</html>
